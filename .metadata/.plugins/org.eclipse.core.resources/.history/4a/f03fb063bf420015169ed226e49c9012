package maze.playerSet;

import maze.Map;
import maze.Position;
import maze.constant.*;

public class Player {
	Position curPos;
	Strategy s;
	
	public Player(Position initPos, Map map, DirectionSet DirSet){
		curPos.x = initPos.x;
		curPos.y = initPos.y;
		s = new Strategy( new Map(map.getMapInfo()) , DirSet);
	}
	
	public Player (int x, int y){
		this(new Position(x,y), null, null);
	}
	
	public void move(Position direction){
		if(direction == null || (direction.x==0 && direction.y==0) )
			return; //wrong direction.
		if(curPos == null)
			return; //wrong Position.
		Position nextPos = curPos.add(direction);
		if(nextPos.x > s.map.getMap()[0].length
		|| nextPos.y > s.map.getMap().length) 
			return; //out of map.
		if(s.map.getMap()[nextPos.y][nextPos.x] == Geo.WALL) 
			return; //hit wall.
		curPos = nextPos;
		SayPosition();
	}
	
	private void SayPosition(){
		System.out.println("CurPos : %s, %s",curPos.x,curPos.y);
	}

}
